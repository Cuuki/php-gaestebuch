{% extends "base.twig" %}

{% block head %}
    {% block title %}
        <title>Beitrag bearbeiten - Adminpanel</title>
    {% endblock %}
    {% block css %}
        <link rel="stylesheet" type="text/css" href="../../../css/style.css">
    {% endblock %}
{% endblock %}

{% block header %}
    <h1 class="heading">Beitrag bearbeiten:</h1>
    {% include "userheader.twig" %}
{% endblock %}

{% block content %}
    {% if message is not defined %} 
    {% if errormessages is not defined or errormessages is null %}
        {% for post in post %}
                <p>Autor:<br> {{ post.firstname }}</p>
                <p>Beitrag:<br> {{ post.lastname }}</p>
                <p>E-Mail:<br> {{ post.email }}</p>
                <p>Inhalt:<br> {{ post.content }}</p>
                <br>
        {% endfor %}
        {%endif%}
    {% endif %}
    <section id='form'>
        {% set value = {
            'firstname' : '', 
            'lastname' : '', 
            'email' : '', 
            'textinput' : ''
        } %}
        <article>
            {% if errormessages is defined and errormessages is not null %}
                {% set value = {
                    'firstname' : postdata.firstname,
                    'lastname' : postdata.lastname,
                    'email' : postdata.email,
                    'textinput' : postdata.textinput
                } %}
            {% endif %}
            {% if message is defined %}
                <p>{{ message }}</p>
            {% endif %}
            <form action="" method="post">      
                <label for="firstName">
                    Vorname:
                </label>		
                <input type="text" id="firstName" name="firstname" value="{{value.firstname}}">
                {% if errormessages is defined and errormessages is not null and errormessages.firstname is defined %}
                    <p class="errorMessage">{{errormessages.firstname}}</p>
                {% endif %}
                <label for="lastName">
                    Nachname:
                </label>
                <input type="text" id="lastName" name="lastname" value="{{value.lastname}}">
                {% if errormessages is defined and errormessages is not null and errormessages.lastname is defined %}
                    <p class="errorMessage">{{errormessages.lastname}}</p>
                {% endif %}
                <label for="userEmail">
                    E-Mail Adresse:
                </label>
                <input type="text" id="userEmail" name="email" value="{{value.email}}">
                {% if errormessages is defined and errormessages is not null and errormessages.email is defined %}
                    <p class="errorMessage">{{errormessages.email}}</p>
                {% endif %}            
                <label for="userTextinput">
                    Geben Sie Ihren Beitrag ein:<br>(maximal 1000 Zeichen)
                </label>
                <textarea id="userTextinput" name="textinput" rows="10" cols="20">{{value.textinput}}</textarea>
                {% if errormessages is defined and errormessages is not null and errormessages.textinput is defined %}
                    <p class="errorMessage">{{errormessages.textinput}}</p>
                {% endif %}            
                <input class="button" name="submit" type="submit" value="Ändern">
            </form>
            <p>
                <a href="{{ app.url_generator.generate('dashboard') }}">Zurück zur Übersicht</a>
            </p>
        </article>
    </section>	
{% endblock %}

{% block footer %}   
    <h2 class="heading">Mehr Informationen:</h2>
    <div class="list">
        <ul>
            <li>
                <a href="#">Lorem</a>
            </li>
        </ul>
    </div>
{% endblock %}